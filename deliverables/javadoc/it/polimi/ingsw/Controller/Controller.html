<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (17) on Mon Jun 20 20:54:29 CEST 2022 -->
<title>Controller</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-06-20">
<meta name="description" content="declaration: package: it.polimi.ingsw.Controller, class: Controller">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.Controller</a></div>
<h1 title="Class Controller" class="title">Class Controller</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.Controller.Controller</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Controller</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Class that models the controller of the MVC pattern.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#expectedUserAction" class="member-name-link">expectedUserAction</a></code></div>
<div class="col-last even-row-color">
<div class="block">HashMap that contains nickname of a user and the expectedUserAction.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="../GameModel/Game.html" title="class in it.polimi.ingsw.GameModel">Game</a></code></div>
<div class="col-second odd-row-color"><code><a href="#game" class="member-name-link">game</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The game which the controller controls.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="../GameModel/GameFactory.html" title="class in it.polimi.ingsw.GameModel">GameFactory</a></code></div>
<div class="col-second even-row-color"><code><a href="#gameFactory" class="member-name-link">gameFactory</a></code></div>
<div class="col-last even-row-color">
<div class="block">The factory used to create the game.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="../Utils/Enum/GameMode.html" title="enum class in it.polimi.ingsw.Utils.Enum">GameMode</a></code></div>
<div class="col-second odd-row-color"><code><a href="#gameMode" class="member-name-link">gameMode</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#gameStarted" class="member-name-link">gameStarted</a></code></div>
<div class="col-last even-row-color">
<div class="block">True when the first planning phase has started</div>
</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#initialized" class="member-name-link">initialized</a></code></div>
<div class="col-last odd-row-color">
<div class="block">True when game settings have been selected and thus game is created</div>
</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#isLastRound" class="member-name-link">isLastRound</a></code></div>
<div class="col-last even-row-color">
<div class="block">True whenever the round being played is the last</div>
</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#numOfPlayers" class="member-name-link">numOfPlayers</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#players" class="member-name-link">players</a></code></div>
<div class="col-last even-row-color">
<div class="block">List of players who connected to the game controlled by this controller</div>
</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#playersReady" class="member-name-link">playersReady</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Keeps track of number of players who selected TowerColor and Wizard</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="../Network/Server/MatchServer.html" title="class in it.polimi.ingsw.Network.Server">MatchServer</a></code></div>
<div class="col-second even-row-color"><code><a href="#server" class="member-name-link">server</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="TurnController.html" title="class in it.polimi.ingsw.Controller">TurnController</a></code></div>
<div class="col-second odd-row-color"><code><a href="#turnController" class="member-name-link">turnController</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Controller</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for the controller used in testing.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.Network.Server.MatchServer)" class="member-name-link">Controller</a><wbr>(<a href="../Network/Server/MatchServer.html" title="class in it.polimi.ingsw.Network.Server">MatchServer</a>&nbsp;server)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor for the controller.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPlayer(java.lang.String,it.polimi.ingsw.Utils.Enum.TowerColor)" class="member-name-link">addPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Utils/Enum/TowerColor.html" title="enum class in it.polimi.ingsw.Utils.Enum">TowerColor</a>&nbsp;towerColor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds player to the game with the tower color chosen.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#characterRequestHandle(it.polimi.ingsw.Network.Message.UserAction.UserAction)" class="member-name-link">characterRequestHandle</a><wbr>(<a href="../Network/Message/UserAction/UserAction.html" title="class in it.polimi.ingsw.Network.Message.UserAction">UserAction</a>&nbsp;userAction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles UseCharacter and UseAbility UserActions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#chooseWizard(java.lang.String,it.polimi.ingsw.Utils.Enum.WizardType)" class="member-name-link">chooseWizard</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Utils/Enum/WizardType.html" title="enum class in it.polimi.ingsw.Utils.Enum">WizardType</a>&nbsp;wizardType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Assigns wizard to a player.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createGame()" class="member-name-link">createGame</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates the game.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endOfRoundOperations(java.lang.String,it.polimi.ingsw.Utils.Enum.UserActionType)" class="member-name-link">endOfRoundOperations</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;lastPlayerToAct,
 <a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&nbsp;lastUserActionTaken)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Performs actions at end of round.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endTurn(java.lang.String)" class="member-name-link">endTurn</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">End the turn of the player specified by the nickname.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gameOverOperations()" class="member-name-link">gameOverOperations</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends an update and clears the expected user actions;
 no player is expected to play in this game now that it ended.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getExpectedUserAction()" class="member-name-link">getExpectedUserAction</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Protected method that allows unit tests to observe the action that is expected.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../GameModel/ObservableByClient.html" title="interface in it.polimi.ingsw.GameModel">ObservableByClient</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGame()" class="member-name-link">getGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Protected method that allows tests to observe the game in order to observe its state and query the controller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFull()" class="member-name-link">isFull</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInitialized()" class="member-name-link">isInitialized</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lastRoundOperations()" class="member-name-link">lastRoundOperations</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Operations done when the current round is set to be the last.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loginHandle(java.lang.String)" class="member-name-link">loginHandle</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles login of a given player.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveMotherNature(java.lang.String,int)" class="member-name-link">moveMotherNature</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;islandID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Moves mother nature to the selected island.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveStudentFromEntrance(java.lang.String,int,int)" class="member-name-link">moveStudentFromEntrance</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;studentID,
 int&nbsp;destinationID)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Moves the student from the entrance to the selected destination.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#playAssistant(java.lang.String,int)" class="member-name-link">playAssistant</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;assistantID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Plays the assistant chosen.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveUserAction(it.polimi.ingsw.Network.Message.UserAction.UserAction)" class="member-name-link">receiveUserAction</a><wbr>(<a href="../Network/Message/UserAction/UserAction.html" title="class in it.polimi.ingsw.Network.Message.UserAction">UserAction</a>&nbsp;userAction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Main method though which the server interacts with the controller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#selectGameSettings(int,it.polimi.ingsw.Utils.Enum.GameMode)" class="member-name-link">selectGameSettings</a><wbr>(int&nbsp;numOfPlayers,
 <a href="../Utils/Enum/GameMode.html" title="enum class in it.polimi.ingsw.Utils.Enum">GameMode</a>&nbsp;gameMode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the game settings.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendErrorToUser(java.lang.String,it.polimi.ingsw.Network.Message.Error.Error)" class="member-name-link">sendErrorToUser</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Network/Message/Error/Error.html" title="class in it.polimi.ingsw.Network.Message.Error">Error</a>&nbsp;error)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method to send errors to a specific user.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendUpdateToAllUsers(it.polimi.ingsw.Network.Message.Update.Update)" class="member-name-link">sendUpdateToAllUsers</a><wbr>(<a href="../Network/Message/Update/Update.html" title="class in it.polimi.ingsw.Network.Message.Update">Update</a>&nbsp;update)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method to send an update to all users.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startGame()" class="member-name-link">startGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts the actual game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#takeFromCloud(java.lang.String,int)" class="member-name-link">takeFromCloud</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;cloudID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Takes the contents of chosen cloud and puts them in the user's entrance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#useAbility(java.lang.String,java.util.List)" class="member-name-link">useAbility</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;parameters)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uses the ability of the active character.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#useCharacter(java.lang.String,int)" class="member-name-link">useCharacter</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;characterID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uses (in the sense that it gets paid for) a character.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="server">
<h3>server</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../Network/Server/MatchServer.html" title="class in it.polimi.ingsw.Network.Server">MatchServer</a></span>&nbsp;<span class="element-name">server</span></div>
</section>
</li>
<li>
<section class="detail" id="turnController">
<h3>turnController</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="TurnController.html" title="class in it.polimi.ingsw.Controller">TurnController</a></span>&nbsp;<span class="element-name">turnController</span></div>
</section>
</li>
<li>
<section class="detail" id="gameFactory">
<h3>gameFactory</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../GameModel/GameFactory.html" title="class in it.polimi.ingsw.GameModel">GameFactory</a></span>&nbsp;<span class="element-name">gameFactory</span></div>
<div class="block">The factory used to create the game.</div>
</section>
</li>
<li>
<section class="detail" id="game">
<h3>game</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../GameModel/Game.html" title="class in it.polimi.ingsw.GameModel">Game</a></span>&nbsp;<span class="element-name">game</span></div>
<div class="block">The game which the controller controls.</div>
</section>
</li>
<li>
<section class="detail" id="players">
<h3>players</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">players</span></div>
<div class="block">List of players who connected to the game controlled by this controller</div>
</section>
</li>
<li>
<section class="detail" id="numOfPlayers">
<h3>numOfPlayers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numOfPlayers</span></div>
</section>
</li>
<li>
<section class="detail" id="gameMode">
<h3>gameMode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../Utils/Enum/GameMode.html" title="enum class in it.polimi.ingsw.Utils.Enum">GameMode</a></span>&nbsp;<span class="element-name">gameMode</span></div>
</section>
</li>
<li>
<section class="detail" id="playersReady">
<h3>playersReady</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">playersReady</span></div>
<div class="block">Keeps track of number of players who selected TowerColor and Wizard</div>
</section>
</li>
<li>
<section class="detail" id="expectedUserAction">
<h3>expectedUserAction</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&gt;</span>&nbsp;<span class="element-name">expectedUserAction</span></div>
<div class="block">HashMap that contains nickname of a user and the expectedUserAction. The expected user action represent
 the user must take in order for the game state to evolve</div>
</section>
</li>
<li>
<section class="detail" id="initialized">
<h3>initialized</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">initialized</span></div>
<div class="block">True when game settings have been selected and thus game is created</div>
</section>
</li>
<li>
<section class="detail" id="gameStarted">
<h3>gameStarted</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">gameStarted</span></div>
<div class="block">True when the first planning phase has started</div>
</section>
</li>
<li>
<section class="detail" id="isLastRound">
<h3>isLastRound</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLastRound</span></div>
<div class="block">True whenever the round being played is the last</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.Network.Server.MatchServer)">
<h3>Controller</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Controller</span><wbr><span class="parameters">(<a href="../Network/Server/MatchServer.html" title="class in it.polimi.ingsw.Network.Server">MatchServer</a>&nbsp;server)</span></div>
<div class="block">Constructor for the controller. Creates a controller in its starting state, waiting for someone to login.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Controller</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Controller</span>()</div>
<div class="block">Constructor for the controller used in testing. Creates a controller in its starting state,
 waiting for someone to login. The server is set to null and messages won't actually be sent over the network.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="receiveUserAction(it.polimi.ingsw.Network.Message.UserAction.UserAction)">
<h3>receiveUserAction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">receiveUserAction</span><wbr><span class="parameters">(<a href="../Network/Message/UserAction/UserAction.html" title="class in it.polimi.ingsw.Network.Message.UserAction">UserAction</a>&nbsp;userAction)</span></div>
<div class="block">Main method though which the server interacts with the controller.
 The server receives messages (UserAction) which are then forwarded to the controller though this method.
 The method parses the type of userAction and acts accordingly.
 If the UserAction pertains to a Login or a Character usage, it gets handled separately.
 Otherwise, it is first checked if the request can be accepted and then examined based on its type.
 After being parsed, one or more private controller methods are called. These methods change the game state
 along with sending an update or an error to the user.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userAction</code> - the action taken by the user.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loginHandle(java.lang.String)">
<h3>loginHandle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loginHandle</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">Handles login of a given player. It is assumed that the received nickname is unique.
 If the player who connects is the first to do so, starts by expecting game mode parameters.
 If it isn't, adds the player only if the game parameters have been chosen and the game isn't already full,
 otherwise returns a login error. The choice of a tower color is expected of them.
 In either case, the first update from the controller is sent here.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - nickname of the player trying to join the game. Assumed unique.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="characterRequestHandle(it.polimi.ingsw.Network.Message.UserAction.UserAction)">
<h3>characterRequestHandle</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">characterRequestHandle</span><wbr><span class="parameters">(<a href="../Network/Message/UserAction/UserAction.html" title="class in it.polimi.ingsw.Network.Message.UserAction">UserAction</a>&nbsp;userAction)</span></div>
<div class="block">Handles UseCharacter and UseAbility UserActions.
 Both are denied if the game isn't an expert game, if the game hasn't started yet, if the player sending
 is not the current player or if it isn't the action phase.
 Additionally, UseAbility UserActions get denied if no character had previously been activated and if
 no uses are left.
 If all these conditions are met, it tries to activate the character or its ability, which will either
 trigger the sending of an update or an error</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userAction</code> - the action taken by the user.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendUpdateToAllUsers(it.polimi.ingsw.Network.Message.Update.Update)">
<h3>sendUpdateToAllUsers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendUpdateToAllUsers</span><wbr><span class="parameters">(<a href="../Network/Message/Update/Update.html" title="class in it.polimi.ingsw.Network.Message.Update">Update</a>&nbsp;update)</span></div>
<div class="block">Method to send an update to all users. It asks the (match) server to do this operation.
 If no server was set on initialization, the update is instead printed (used for testing).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>update</code> - the info to send.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendErrorToUser(java.lang.String,it.polimi.ingsw.Network.Message.Error.Error)">
<h3>sendErrorToUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendErrorToUser</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Network/Message/Error/Error.html" title="class in it.polimi.ingsw.Network.Message.Error">Error</a>&nbsp;error)</span></div>
<div class="block">Method to send errors to a specific user.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>error</code> - error to send</dd>
<dd><code>nickname</code> - the user to send the error to</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isInitialized()">
<h3>isInitialized</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInitialized</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isFull()">
<h3>isFull</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isFull</span>()</div>
</section>
</li>
<li>
<section class="detail" id="selectGameSettings(int,it.polimi.ingsw.Utils.Enum.GameMode)">
<h3>selectGameSettings</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">selectGameSettings</span><wbr><span class="parameters">(int&nbsp;numOfPlayers,
 <a href="../Utils/Enum/GameMode.html" title="enum class in it.polimi.ingsw.Utils.Enum">GameMode</a>&nbsp;gameMode)</span></div>
<div class="block">Sets the game settings. Then, sends an update. The user is then expected to choose a tower color.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>numOfPlayers</code> - the number of players of the game.</dd>
<dd><code>gameMode</code> - the game mode of the game.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createGame()">
<h3>createGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createGame</span>()</div>
<div class="block">Creates the game.</div>
</section>
</li>
<li>
<section class="detail" id="addPlayer(java.lang.String,it.polimi.ingsw.Utils.Enum.TowerColor)">
<h3>addPlayer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Utils/Enum/TowerColor.html" title="enum class in it.polimi.ingsw.Utils.Enum">TowerColor</a>&nbsp;towerColor)</span></div>
<div class="block">Adds player to the game with the tower color chosen. Sends an error if the team of that TowerColor is already
 full. Otherwise, sends an update. User is then expected to choose a wizard.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who chose.</dd>
<dd><code>towerColor</code> - the tower color chosen.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="chooseWizard(java.lang.String,it.polimi.ingsw.Utils.Enum.WizardType)">
<h3>chooseWizard</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">chooseWizard</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="../Utils/Enum/WizardType.html" title="enum class in it.polimi.ingsw.Utils.Enum">WizardType</a>&nbsp;wizardType)</span></div>
<div class="block">Assigns wizard to a player. Sends an error if wizard was already chosen. Otherwise, sends an update.
 The player who chose is not expected to take any action while waiting for the game to start.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who chose.</dd>
<dd><code>wizardType</code> - the wizard chosen.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startGame()">
<h3>startGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startGame</span>()</div>
<div class="block">Starts the actual game. Sends the first update expecting a PlayAssistantUserAction.</div>
</section>
</li>
<li>
<section class="detail" id="playAssistant(java.lang.String,int)">
<h3>playAssistant</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">playAssistant</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;assistantID)</span></div>
<div class="block">Plays the assistant chosen.
 Sends an error if no assistant with such ID exists or if that assistant can't be played.
 If no error occurs, sends an update.
 The turn is progressed and either the next player is expected to play an assistant, or the phase is switched
 and the first player is expected to move a student.
 If this is the last turn to be played, performs last round operations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who played the card.</dd>
<dd><code>assistantID</code> - the ID of the assistant to play.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="moveStudentFromEntrance(java.lang.String,int,int)">
<h3>moveStudentFromEntrance</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveStudentFromEntrance</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;studentID,
 int&nbsp;destinationID)</span></div>
<div class="block">Moves the student from the entrance to the selected destination.
 Sends an error if the action selected is illegal.
 If no error occurs, sends an update.
 Either the player has more students to move (and is expected to do so), or is expected to move mother nature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who moved the student</dd>
<dd><code>studentID</code> - the ID of the student to move</dd>
<dd><code>destinationID</code> - the ID of the destination (table or island)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="moveMotherNature(java.lang.String,int)">
<h3>moveMotherNature</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">moveMotherNature</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;islandID)</span></div>
<div class="block">Moves mother nature to the selected island.
 Sends an error if the chosen island is beyond player's reach.
 If the game ends, end game operations are performed.
 Otherwise, an update is sent.
 The user is expected to choose a cloud, unless this is the last turn, in which case end of round operations
 are performed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who move mother nature.</dd>
<dd><code>islandID</code> - the destination island of mother nature</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="takeFromCloud(java.lang.String,int)">
<h3>takeFromCloud</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">takeFromCloud</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;cloudID)</span></div>
<div class="block">Takes the contents of chosen cloud and puts them in the user's entrance.
 Sends an error if the cloud was already taken.
 The turn is progressed and if there is a next player, it is expected to move a student and an update is sent.
 Otherwise, end of round operations are performed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who took from the cloud.</dd>
<dd><code>cloudID</code> - the cloud selected.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="useCharacter(java.lang.String,int)">
<h3>useCharacter</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">useCharacter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 int&nbsp;characterID)</span></div>
<div class="block">Uses (in the sense that it gets paid for) a character.
 Sends an error if the character can't be used.
 If no error occurs, sends an update.
 If no selection is required to the user, the ability is instead immediately activated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who used the character.</dd>
<dd><code>characterID</code> - the ID of the character used.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="useAbility(java.lang.String,java.util.List)">
<h3>useAbility</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">useAbility</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;parameters)</span></div>
<div class="block">Uses the ability of the active character.
 Sends an error if any of the chosen parameters are illegal.
 If no error occurs, an update is sent.
 If this is the last turn to be played, performs last round operations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the player who used the ability.</dd>
<dd><code>parameters</code> - the parameters to use the ability.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="endTurn(java.lang.String)">
<h3>endTurn</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endTurn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">End the turn of the player specified by the nickname.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - of the player who requested their turn to end.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="endOfRoundOperations(java.lang.String,it.polimi.ingsw.Utils.Enum.UserActionType)">
<h3>endOfRoundOperations</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endOfRoundOperations</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;lastPlayerToAct,
 <a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&nbsp;lastUserActionTaken)</span></div>
<div class="block">Performs actions at end of round.
 If the game has ended, it performs end of round operations.
 Otherwise, progresses to next phase and refills the clouds, then sends an update.
 The first user of the planning phase is expected to play an assistant.
 If this is the last turn to be played, performs last round operations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lastPlayerToAct</code> - the player who has taken the last user action</dd>
<dd><code>lastUserActionTaken</code> - the user action that ended the round (usually always END_TURN)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastRoundOperations()">
<h3>lastRoundOperations</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">lastRoundOperations</span>()</div>
<div class="block">Operations done when the current round is set to be the last.
 To be called whenever a LastRoundException is caught.
 Sets the last round on the game and disables its clouds, then sets lastRound as true on the controller.</div>
</section>
</li>
<li>
<section class="detail" id="gameOverOperations()">
<h3>gameOverOperations</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gameOverOperations</span>()</div>
<div class="block">Sends an update and clears the expected user actions;
 no player is expected to play in this game now that it ended.</div>
</section>
</li>
<li>
<section class="detail" id="getExpectedUserAction()">
<h3>getExpectedUserAction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../Utils/Enum/UserActionType.html" title="enum class in it.polimi.ingsw.Utils.Enum">UserActionType</a>&gt;</span>&nbsp;<span class="element-name">getExpectedUserAction</span>()</div>
<div class="block">Protected method that allows unit tests to observe the action that is expected.
 It is useful to check the correct evolution of the controller state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a hash map containing a nickname as key and the expected user action as value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getGame()">
<h3>getGame</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../GameModel/ObservableByClient.html" title="interface in it.polimi.ingsw.GameModel">ObservableByClient</a></span>&nbsp;<span class="element-name">getGame</span>()</div>
<div class="block">Protected method that allows tests to observe the game in order to observe its state and query the controller.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an ObservableByClient, which is the game controlled.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
